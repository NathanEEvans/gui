<link rel="stylesheet" href="/dialogs/NewFile/styles.css">
<div class="dijitDialogPaneContentArea" style="width: 900px;">

    <script>
        require(['stormcloud/dialogs/NewFile'], function(dialog){
       
            dialog.init();
        }); 
    </script>

    <script>
            
        function done() {
            
            require(['stormcloud/dialogs/NewFile'], function(dialog){
       
                dialog.done();
            }); 
            
        }
    </script>

    <div class="floater">

        <div id="newFileWizard" data-dojo-type="dojox/widget/Wizard" data-dojo-props="nextButtonLabel:'Next', doneButtonLabel:'Create File' ">

            <div id="newFileStep1" data-dojo-type="dojox/widget/WizardPane" data-dojo-props="title:'Step 1'">

                <div class="stepsBanner">

                    <span class="stepTitle"><b>Steps:</b></span>
                    <hr class="stepHr">
                    <ol>
                        <li>Choose File Type</li>
                        <li class="stepDisabled">...</li>
                    </ol>
                </div>

                <div class="stepsMidScreen">
                    <span class="stepTitle"><b>Choose File Type:</b></span>
                    <hr class="stepHr">

                    <div style="margin-left: 10px; margin-top: 10px;">
                        <span class="projectStepSelect">Project &nbsp;</span>
                        <!--
                            @todo Make this an actual list, i thnk an API call
                                  to get available (open) projects.
                        -->
                        <div data-dojo-type="dojo/store/Memory"
                             data-dojo-id="newFileProjectStore"
                             data-dojo-props="data: [ { name : 'Project 1' }, { name : 'Project 2' }]"></div>
                        <select data-dojo-type="dijit/form/ComboBox" 
                                data-dojo-props="store:newFileProjectStore, searchAttr:'name'">

                            <script type="dojo/method" event="onChange" args="newValue">
                                dojo.byId('projectName').innerHTML = newValue;
                            </script>
                        </select>
                    </div>

                    <div id="fileTree">
                    </div>
                </div>

                <div class="stepsRightScreen">
                    <span class="stepTitle"><b>Description:</b></span>
                    <hr class="stepHr">
                    <table style="margin-left: 10px;">
                        <tr>
                            <td style="width: 280px;"><div id="fileDescription">Select a File Type to see it's description</div></td>
                        </tr>
                    </table>
                </div>

            </div>

            <div id="newFileStep2" data-dojo-id="newFileStep2" data-dojo-type="dojox/widget/WizardPane" data-dojo-props='doneFunction:done'>

                <div class="stepsBanner">

                    <span class="stepTitle"><b>Steps:</b></span>
                    <hr class="stepHr">
                    <ol>
                        <li class="stepDisabled">Choose File Type</li>
                        <li>Your File Details</li>
                    </ol>
                </div>

                <div style="float: left;width:600px; height: 100%; border-right: 1px solid #b5bcc7;">
                    <span style="font-size: 12px; margin-left: 10px;"><b>File Details:</b></span>
                    <hr style="color:#b5bcc7">

                    <form data-dojo-type="dijit/form/Form" id="newFileForm">
                        <table style="margin-left: 10px; width: 600px;">
                            <tr style="width: 500px;">
                                <td>
                                    <label for="name">Project</label>
                                </td>
                                <td style="width: 20px;"></td>
                                <td style="width: 480px;">
                                    <div id="projectName"></div>
                                </td>        
                            </tr>
                            <tr style="width: 500px;">
                                <td>
                                    <label for="name">File Name</label>
                                </td>
                                <td style="width: 20px;"></td>
                                <td style="width: 480px;">
                                    <input type="text" id="fileName" style="width:450px"
                                           required="true" 
                                           data-dojo-type="dijit/form/ValidationTextBox"/>
                                </td>        
                            </tr>
                            <tr style="width: 500px;">
                                <td>
                                    <label for="name">Location</label>
                                </td>
                                <td style="width: 20px;"></td>
                                <td style="width: 480px;">
                                    <select data-dojo-type="dijit/form/ComboBox">
                                        <option>Source Packages</option>
                                        <option>Test Packages</option>
                                    </select>
                                </td>
                            </tr>
                            <tr style="width: 500px;">
                                <td>
                                    <label for="name">Package</label>
                                </td>
                                <td style="width: 20px;"></td>
                                <td style="width: 480px;">
                                    <input type="text" id="packageName" style="width:385px"
                                           required="true" 
                                           data-dojo-type="dijit/form/ValidationTextBox"/>
                                    <button data-dojo-type="dijit/form/Button" type="button">
                                        <script type="dojo/connect" data-dojo-event="onClick">
                                            alert('Browse');
                                        </script>
                                        Browse
                                    </button>
                                </td>
                            </tr>
                            <tr style="width: 500px;">
                                <td>
                                    <label for="name">Created File</label>
                                </td>
                                <td style="width: 20px;"></td>
                                <td style="width: 480px;">
                                    <input data-dojo-type="dijit/form/TextBox" style="width:450px"/>
                                </td>
                            </tr>

                        </table>
                        <script type="dojo/method" data-dojo-event="onValidStateChange" data-dojo-args="valid">

                            //var btn = dijit.byId('newProjectOkButton');

                            //if(valid){
                            //btn.setAttribute('disabled', false);
                            //}else{
                            //btn.setAttribute('disabled', true);
                            // }

                        </script>
                    </form>

                </div>

            </div>

            <script type="dojo/method" event="cancelFunction">

                require(['stormcloud/gui/dialog'],function(dialog){

                dialog.hide('newFileDialog');
                });

                dijit.byId('newFileWizard').selectChild('newFileStep1');

            </script>
        </div>

    </div>

</div>
<div class="dijitDialogPaneContentArea" style="width: 900px; height: 500px;">

    <style type="text/css">
        .floater {
            float:left;
            margin-right:15px;
            margin-bottom:8px;
        }

        .stepsBanner{
            background-color: #abd6ff;
            background-repeat: repeat-x;
            background-image: linear-gradient(rgba(255, 255, 255, 0.7) 0%, rgba(255, 255, 255, 0) 100%);
        }
    </style>

    <script>
        	
        function done() {
            
            var item = dijit.byId('closedProjectTree').attr('selectedItem');

            require(['stormcloud/gui/dialog','stormcloud/services/filesystem'], function(dialog, filesystem){
                
                filesystem.open(item);
                dialog.hide(DIALOG.OPEN_PROJECT);
            
            });
        }
    </script>

    <div class="floater">

        <div id="openProjectWizard" data-dojo-type="dojox/widget/Wizard" data-dojo-props="style:'width:900px; height:500px', nextButtonLabel:'Next', doneButtonLabel:'Open Project'">

            <div id="openProjectStep1" data-dojo-type="dojox/widget/WizardPane" data-dojo-props="doneFunction:done">

                <div class="stepsBanner" style="float:left; width:270px; height: 100%; border-right: 1px solid #b5bcc7;">

                    <span style="font-size: 12px; margin-left: 10px;"><b>Steps:</b></span>
                    <hr style="color:#b5bcc7">
                    <ol>
                        <li>Choose Project</li>
                    </ol>
                </div>

                <div style="float: left;width:320px; height: 100%; border-right: 1px solid #b5bcc7;">
                    <span style="font-size: 12px; margin-left: 10px;"><b>Available Projects:</b></span>
                    <hr style="color:#b5bcc7">
                    <div data-dojo-type="dojo/store/JsonRest" data-dojo-id="closedProjectRestStore" data-dojo-props="target: 'http://localhost/stormcloud/api/filesystem/closed', headers: { Authorization: 'Basic bWFydGlqbjox'}"></div>
                    <div data-dojo-type="dojo/data/ObjectStore" data-dojo-id="closedProjectStore" data-dojo-props="objectStore:closedProjectRestStore"></div>
                    <div data-dojo-type="dijit/tree/TreeStoreModel" data-dojo-id="closedTreeModel" data-dojo-props="store:closedProjectStore">
                        <script type="dojo/method" data-dojo-event="mayHaveChildren" data-dojo-args="item">
                            return false;
                        </script>
                    </div>
                    <div data-dojo-type="dijit/Tree" id="closedProjectTree" style="height: 50%; padding-top: 5px;" data-dojo-props="model:closedTreeModel, showRoot:false">

                        <script type="dojo/method" data-dojo-event="getIconClass" data-dojo-args="item, opened">
                            return 'projectIcon';
                        </script>

                    </div>
                </div>    

            </div>
            <script type="dojo/method" event="cancelFunction">

                require(['stormcloud/gui/dialog'], function(dialog){
                dialog.hide(DIALOG.OPEN_PROJECT);
                });            
            </script>
        </div>
    </div>
</div>